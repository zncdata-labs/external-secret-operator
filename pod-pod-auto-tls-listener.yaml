apiVersion: v1
kind: Pod
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{},"labels":{"name":"pod-auto-tls-listener"},"name":"pod-auto-tls-listener","namespace":"default"},"spec":{"containers":[{"args":["tail","-f"],"image":"azul/zulu-openjdk:8-latest","name":"pod-auto-tls-listener","ports":[{"containerPort":80,"name":"http"}],"resources":{"limits":{"cpu":"500m","memory":"128Mi"}},"securityContext":{"privileged":true,"runAsUser":0},"volumeMounts":[{"mountPath":"/opt/zncdata/secret","name":"secret"},{"mountPath":"/opt/zncdata/listener","name":"listener"}]}],"volumes":[{"ephemeral":{"volumeClaimTemplate":{"metadata":{"annotations":{"secrets.zncdata.dev/class":"auto-tls","secrets.zncdata.dev/format":"tls-p12","secrets.zncdata.dev/scope":"pod,node","secrets.zncdata.dev/tlsPKCS12Password":"foo"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"1Mi"}},"storageClassName":"secrets.zncdata.dev"}}},"name":"secret"},{"ephemeral":{"volumeClaimTemplate":{"metadata":{"annotations":{"listeners.zncdata.dev/listener-class":"cluster-internal"}},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"1Mi"}},"storageClassName":"listeners.zncdata.dev"}}},"name":"listener"}]}}
    secrets.zncdata.dev/expirationTime: "1712902615"
  creationTimestamp: "2024-04-12T06:16:34Z"
  labels:
    listeners.zncdata.dev/listener-name: pod-auto-tls-listener
    name: pod-auto-tls-listener
  name: pod-auto-tls-listener
  namespace: default
  resourceVersion: "531827"
  uid: d86e3d57-c551-4fc9-a4a1-c3f7262cee9b
spec:
  containers:
  - args:
    - tail
    - -f
    image: azul/zulu-openjdk:8-latest
    imagePullPolicy: IfNotPresent
    name: pod-auto-tls-listener
    ports:
    - containerPort: 80
      name: http
      protocol: TCP
    resources:
      limits:
        cpu: 500m
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 128Mi
    securityContext:
      privileged: true
      runAsUser: 0
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/zncdata/secret
      name: secret
    - mountPath: /opt/zncdata/listener
      name: listener
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-gmn87
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  nodeName: kind-control-plane
  preemptionPolicy: PreemptLowerPriority
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  volumes:
  - ephemeral:
      volumeClaimTemplate:
        metadata:
          annotations:
            secrets.zncdata.dev/class: auto-tls
            secrets.zncdata.dev/format: tls-p12
            secrets.zncdata.dev/scope: pod,node
            secrets.zncdata.dev/tlsPKCS12Password: foo
          creationTimestamp: null
        spec:
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 1Mi
          storageClassName: secrets.zncdata.dev
          volumeMode: Filesystem
    name: secret
  - ephemeral:
      volumeClaimTemplate:
        metadata:
          annotations:
            listeners.zncdata.dev/listener-class: cluster-internal
          creationTimestamp: null
        spec:
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 1Mi
          storageClassName: listeners.zncdata.dev
          volumeMode: Filesystem
    name: listener
  - name: kube-api-access-gmn87
    projected:
      defaultMode: 420
      sources:
      - serviceAccountToken:
          expirationSeconds: 3607
          path: token
      - configMap:
          items:
          - key: ca.crt
            path: ca.crt
          name: kube-root-ca.crt
      - downwardAPI:
          items:
          - fieldRef:
              apiVersion: v1
              fieldPath: metadata.namespace
            path: namespace
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2024-04-12T06:16:54Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2024-04-12T06:16:55Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2024-04-12T06:16:55Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2024-04-12T06:16:54Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: containerd://439633e738048093eb2cf40ec0050b4ea82553c1ca3fc21c7a42321867469e77
    image: docker.io/azul/zulu-openjdk:8-latest
    imageID: docker.io/azul/zulu-openjdk@sha256:8680944e6aecd3d15e87258e31c93256476c5f1444f5628f53bcdc8c49f72d16
    lastState: {}
    name: pod-auto-tls-listener
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2024-04-12T06:16:55Z"
  hostIP: 172.21.0.2
  phase: Running
  podIP: 10.244.0.105
  podIPs:
  - ip: 10.244.0.105
  qosClass: Guaranteed
  startTime: "2024-04-12T06:16:54Z"
